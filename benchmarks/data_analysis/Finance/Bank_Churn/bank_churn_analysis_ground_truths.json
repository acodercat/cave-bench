[
    {
      "scenario": "bank_churn_analysis",
      "module": "benchmarks.data_analysis.Finance.Bank_Churn.bank_churn_analysis",
      "description": "Analyze Bank Customer Churn data.",
      "conversations": [
        {
          "id": "bank_churn_analysis_full",
          "turns": [
            {
              "query": "Count the total number of customers in the dataset and store it as 'total_customers'.",
              "validator": "validate_q1",
              "expected_function_calls": [],
              "expected_variable_reads": [],
              "expected_variable_writes": []
            },
            {
              "query": "Identify the number of unique geographical locations and their customer counts. Store the unique count in 'unique_geos' and the customer counts Series in 'unique_geo_customer_counts'.",
              "validator": "validate_q2",
              "expected_function_calls": [],
              "expected_variable_reads": [],
              "expected_variable_writes": []
            },
            {
              "query": "Calculate the average Credit Score of female customers. Store as 'avg_credit_score_female'.",
              "validator": "validate_q3",
              "expected_function_calls": [],
              "expected_variable_reads": [],
              "expected_variable_writes": []
            },
            {
              "query": "Calculate the overall churn rate (mean of 'Exited') in percentage. Store as 'churn_rate_pct'.",
              "validator": "validate_q4",
              "expected_function_calls": [],
              "expected_variable_reads": [],
              "expected_variable_writes": []
            },
            {
              "query": "Find the average Balance of customers who have exited (Exited=1). Store as 'avg_balance_exited'.",
              "validator": "validate_q5",
              "expected_function_calls": [],
              "expected_variable_reads": [],
              "expected_variable_writes": []
            },
            {
              "query": "Count how many Female customers reside in France. Store the count as 'female_france_count'.",
              "validator": "validate_q6",
              "expected_function_calls": [],
              "expected_variable_reads": [],
              "expected_variable_writes": []
            },
            {
              "query": "Calculate the churn rate by Geography. Store the resulting Series as 'geo_churn_rates'.",
              "validator": "validate_q7",
              "expected_function_calls": [],
              "expected_variable_reads": [],
              "expected_variable_writes": []
            },
            {
              "query": "Compare the average Estimated Salary of Active vs. Inactive members. Store the Series as 'active_inactive_salary'.",
              "validator": "validate_q8",
              "expected_function_calls": [],
              "expected_variable_reads": [],
              "expected_variable_writes": []
            },
            {
              "query": "Calculate the percentage of customers who have a Balance of 0. Store as 'zero_balance_pct'.",
              "validator": "validate_q9",
              "expected_function_calls": [],
              "expected_variable_reads": [],
              "expected_variable_writes": []
            },
            {
              "query": "Identify the Surname that appears most frequently. Store the name string as 'top_surname'.",
              "validator": "validate_q10",
              "expected_function_calls": [],
              "expected_variable_reads": [],
              "expected_variable_writes": []
            },
            {
              "query": "Calculate the churn rate for customers with 3 or more products. Store as 'multi_product_churn_rate'.",
              "validator": "validate_q11",
              "expected_function_calls": [],
              "expected_variable_reads": [],
              "expected_variable_writes": []
            },
            {
              "query": "Calculate the Pearson correlation between Age and CreditScore. Store as 'age_credit_corr'.",
              "validator": "validate_q12",
              "expected_function_calls": [],
              "expected_variable_reads": [],
              "expected_variable_writes": []
            },
            {
              "query": "Create Age groups (bins: 18-30, 31-40, 41-50, 51-60, 60+) and identify the group with the highest churn count. Store the group label as 'risky_age_group' and the count as 'risky_age_group_churn_count'.",
              "validator": "validate_q13",
              "expected_function_calls": [],
              "expected_variable_reads": [],
              "expected_variable_writes": []
            },
            {
              "query": "Create a Pivot Table showing mean 'Exited' rates with 'Geography' as index and 'Gender' as columns. Store as 'geo_gender_pivot'.",
              "validator": "validate_q14",
              "expected_function_calls": [],
              "expected_variable_reads": [],
              "expected_variable_writes": []
            },
            {
              "query": "Segment 'CreditScore' into 3 equal quantiles ('Low', 'Medium', 'High'). Find the (Geography, Credit_Segment) group with the highest churn rate. Store the group tuple in 'group_with_highest_churn_rate' and the rate in 'churn_rate_for_group'.",
              "validator": "validate_q15",
              "expected_function_calls": [],
              "expected_variable_reads": [],
              "expected_variable_writes": []
            }
          ]
        }
      ]
    }
]