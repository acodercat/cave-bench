[
    {
      "name": "heart_attack_analysis",
      "module": "benchmarks.data_analysis.HeartAttack.heart_attack_analysis",
      "conversations": [
        {
          "id": "heart_attack_analysis",
          "turns": [
            {
              "query": "Analyze heart attack risk by age groups. Create age groups: Under 40, 40-50, 50-60, and 60+, then calculate the heart attack risk rate for each group",
              "validator": "validate_q1",
              "expected_function_calls": [],
              "expected_variable_reads": ["heart_df"],
              "expected_variable_writes": ["risk_by_age_group"]
            },
            {
              "query": "Compare health metrics between high-risk and low-risk patients. Calculate average cholesterol levels and BMI for patients with heart attack risk (1) vs those without (0)",
              "validator": "validate_q2",
              "expected_function_calls": [],
              "expected_variable_reads": ["heart_df"],
              "expected_variable_writes": ["avg_cholesterol_high_risk", "avg_cholesterol_low_risk", "avg_bmi_high_risk", "avg_bmi_low_risk"]
            },
            {
              "query": "Perform lifestyle factors risk analysis. Analyze heart attack risk based on combinations of Smoking (0/1), Obesity (0/1), and Exercise levels (categorize as 'Low': <2 hours/week, 'Medium': 2-5 hours/week, 'High': >5 hours/week). Create a DataFrame indexed by MultiIndex (Smoking, Obesity, Exercise) with the risk rate as values. Store this as lifestyle_risk_rates. Also identify and store the most dangerous and safest lifestyle patterns as tuples",
              "validator": "validate_q3",
              "expected_function_calls": [],
              "expected_variable_reads": ["heart_df"],
              "expected_variable_writes": ["lifestyle_risk_rates", "most_dangerous_pattern", "safest_pattern"]
            },
            {
              "query": "Analyze blood pressure patterns for high-risk patients. Extract systolic and diastolic values from the Blood Pressure column, then calculate average systolic BP for high-risk patients by diabetes status. Also compute the correlation between stress level and systolic BP for high-risk patients",
              "validator": "validate_q4",
              "expected_function_calls": [],
              "expected_variable_reads": ["heart_df"],
              "expected_variable_writes": ["avg_systolic_diabetes", "avg_systolic_no_diabetes", "stress_bp_correlation"]
            },
            {
              "query": "Conduct comprehensive multi-factor risk analysis: Create risk score categories based on number of risk factors (Diabetes, Smoking, Obesity, Family History, Previous Heart Problems) - categorize as 'Low' (0-1 factors), 'Medium' (2-3 factors), 'High' (4-5 factors). Store heart attack rates by category in risk_score_rates as a Series with category names as index. Analyze by diet quality and store in risk_diet_analysis. Identify the best protective combination of exercise level and diet quality, store as a tuple (Exercise levels, Diet) in best_exercise_diet_combo. Finally, set cholesterol_threshold and triglycerides_threshold as the 75th percentile of their respective distributions",
              "validator": "validate_q5",
              "expected_function_calls": [],
              "expected_variable_reads": ["heart_df"],
              "expected_variable_writes": ["risk_score_rates", "risk_diet_analysis", "best_exercise_diet_combo", "cholesterol_threshold", "triglycerides_threshold"]
            }
          ]
        }
      ]
    }
]