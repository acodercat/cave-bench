[
    {
        "name": "aapl_stock_analysis",
        "module": "benchmarks.data_analysis.finance.stock_analysis",
        "description": "Analyze AAPL stock data for 2024 using pandas. Answer questions about price movements, volume patterns, and trends. Each question builds on previous analysis results.",
        "conversations": [
            {
                "id": "multi_turn_stock_analysis",
                "turns": [
                    {
                        "query": "What was the average closing price for AAPL in 2024?",
                        "validator": "validate_avg_close",
                        "expected_variable_reads": ["df"],
                        "expected_variable_writes": ["avg_close"]
                    },
                    {
                        "query": "How many trading days did the stock close above the average price you just calculated?",
                        "validator": "validate_days_above_avg",
                        "expected_variable_reads": ["df", "avg_close"],
                        "expected_variable_writes": ["days_above_avg"]
                    },
                    {
                        "query": "For those above-average days, what was the average trading volume compared to the overall average volume?",
                        "validator": "validate_volume_comparison",
                        "expected_variable_reads": ["df", "avg_close"],
                        "expected_variable_writes": ["above_avg_volume", "overall_avg_volume", "volume_ratio"]
                    },
                    {
                        "query": "Based on your analysis, did higher prices correlate with higher or lower trading volume? Provide the correlation coefficient between Close price and Volume.",
                        "validator": "validate_correlation",
                        "expected_variable_reads": ["df"],
                        "expected_variable_writes": ["price_volume_corr"]
                    }
                ]
            }
        ]
    }
]
