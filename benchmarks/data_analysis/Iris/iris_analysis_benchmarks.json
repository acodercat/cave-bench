[
    {
      "name": "iris_analysis",
      "module": "benchmarks.data_analysis.Iris.iris_analysis",
      "conversations": [
        {
          "id": "iris_analysis",
          "turns": [
            {
              "query": "Calculate mean petal length for each iris species",
              "validator": "validate_q1",
              "expected_function_calls": [],
              "expected_variable_reads": ["iris_df"],
              "expected_variable_writes": ["mean_petal_by_species"]
            },
            {
              "query": "Find the samples with maximum and minimum sepal length in the dataset, then calculate the difference in all features between these two extreme samples",
              "validator": "validate_q2",
              "expected_function_calls": [],
              "expected_variable_reads": ["iris_df"],
              "expected_variable_writes": ["max_sepal_sample", "min_sepal_sample", "feature_differences"]
            },
            {
              "query": "Calculate the correlation matrix for all numerical features (exclude species column) and identify the pair of features with the highest positive correlation",
              "validator": "validate_q3",
              "expected_function_calls": [],
              "expected_variable_reads": ["iris_df"],
              "expected_variable_writes": ["correlation_matrix", "highest_corr_pair", "highest_corr_value"]
            },
            {
              "query": "For each species, calculate comprehensive statistics (mean, std, min, 25%, 50%, 75%, max) for all numerical features. Then determine which feature has the highest coefficient of variation (std/mean) across species to identify the most discriminative feature",
              "validator": "validate_q4",
              "expected_function_calls": [],
              "expected_variable_reads": ["iris_df"],
              "expected_variable_writes": ["species_stats", "cv_by_feature", "most_discriminative_feature"]
            },
            {
              "query": "Create shape analysis features: petal_shape_ratio (petal_length/petal_width), sepal_shape_ratio (sepal_length/sepal_width), and size_ratio (petal_length/sepal_length). Calculate the F-ratio (between-species variance / within-species variance) for each feature to determine which shape feature best separates the species. Also identify the best combination of 3 features (original or derived) for species separation",
              "validator": "validate_q5",
              "expected_function_calls": [],
              "expected_variable_reads": ["iris_df"],
              "expected_variable_writes": ["shape_features_df", "f_ratios", "best_shape_feature", "best_feature_combination"]
            }
          ]
        }
      ]
    }
]