[
    {
      "name": "deferred_tax_modeling",
      "module": "benchmarks.data_analysis.deferred_tax_modeling.deferred_tax_modeling",
      "conversations": [
        {
          "id": "deferred_tax_asset_schedule_analysis",
          "turns": [
            {
              "query": "What is the total nominal capital expenditure for the years 2012 through 2021, inclusive? Convert from real to nominal values using the inflation rate. Round the final result to one decimal place.",
              "validator": "validate_q1",
              "expected_function_calls": [],
              "expected_variable_reads": [
                "real_capex_schedule", 
                "inflation_rate"
            ],
              "expected_variable_writes": ["q1_total_nominal_capex"]
            },
            {
              "query": "Calculate the closing balance for the accounting asset schedule in the year 2017 using a year-on-year roll-forward model. Use nominal values by converting real capex amounts using the inflation rate (compounded from 2012 base year), then apply straight-line depreciation over the accounting depreciation life. Round the final result to one decimal place.",
              "validator": "validate_q2",
              "expected_function_calls": [],
              "expected_variable_reads": [
                "real_capex_schedule",
                "inflation_rate",
                "accounting_depreciation_life"
              ],
              "expected_variable_writes": ["q2_accounting_closing_balance_2017"]
            },
            {
              "query": "What is the closing balance for the taxation asset schedule in 2019 using a year-on-year roll-forward model? Convert real capex to nominal values using the inflation rate (compounded from 2012 base year), then apply diminishing value depreciation at the tax depreciation rate. Round the final result to one decimal place.",
              "expected_function_calls": [],
              "expected_variable_reads": [
                "real_capex_schedule",
                "inflation_rate",
                "tax_depreciation_rate"
              ],
              "expected_variable_writes": ["q3_tax_closing_balance_2019"]
            },
            {
              "query": "What is the impact on the opening deferred tax balance for 2016 due to the change in the taxation rate using a year-on-year roll-forward model? Use nominal values by converting real capex using the inflation rate, the  calculate both accounting (straight-line) and tax (diminishing value) asset balances at end of 2015, then determine the impact of tax rate change from pre-2016 rate to post-2016 rate. Round the final result to one decimal place.",
              "validator": "validate_q4",
              "expected_function_calls": [],
              "expected_variable_reads": [
                "real_capex_schedule",
                "inflation_rate",
                "accounting_depreciation_life",
                "tax_depreciation_rate",
                "tax_rate_pre_2016",
                "tax_rate_post_2016"
              ],
              "expected_variable_writes": ["q4_tax_rate_change_impact"]
            },
            {
              "query": "Determine the deferred tax balance as at the end of 2028, specifying both the value and whether it is an asset or a liability. Convert all real capex to nominal values using the inflation rate (compounded from 2012), then calculate both accounting (straight-line) and tax (diminishing value) asset schedules through 2028. Round the final result to one decimal place.",
              "validator": "validate_q5",
              "expected_function_calls": [],
              "expected_variable_reads": [
                "real_capex_schedule",
                "inflation_rate",
                "accounting_depreciation_life",
                "tax_depreciation_rate",
                "tax_rate_post_2016"
              ],
              "expected_variable_writes": ["q5_deferred_tax_balance_2028_value", "q5_deferred_tax_balance_2028_type"]
            }
          ]
        }
      ]
    }
]