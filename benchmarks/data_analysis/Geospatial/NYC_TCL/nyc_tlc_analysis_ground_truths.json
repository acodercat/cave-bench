[
  {
    "scenario": "nyc_tlc_analysis_2025",
    "module": "benchmarks.data_analysis.Geospatial.NYC_TCL.nyc_tlc_analysis",
    "requirements": "You are a Senior Urban Mobility Planner.\n\nANALYSIS SPECIFICATIONS:\n\n1. Network Congestion (Bottleneck Identification):\n   - Metric: Average Trip Speed (mph) = trip_distance / (duration_in_hours)\n   - Filters: Only exclude trips with duration <= 0 or distance <= 0. Do NOT filter by speed range or trip count.\n   - Goal: Identify the Pickup Zone (PULocationID) with the lowest average speed (even if it has very few trips)\n\n2. Commuter Flow (Spatial Tidal Analysis):\n   - Time Window: Morning Rush (06:00 - 10:00, inclusive of 06:00, exclusive of 10:00)\n   - Count pickups where pickup hour is in [6, 7, 8, 9] (pickup hour >= 6 and < 10)\n   - Count dropoffs where dropoff hour is in [6, 7, 8, 9] (dropoff hour >= 6 and < 10)\n   - Important: Count pickups and dropoffs separately. A trip can contribute to both counts if both pickup and dropoff are in the window.\n   - Metric: 'Net Outflow' = Count(Pickups) - Count(Dropoffs) for each zone\n   - Goal: Identify the Zone with the highest positive Net Outflow\n\n3. Economic Equity (Regressive Burden):\n   - Metric: 'Surcharge Burden' = congestion_surcharge / fare_amount\n   - Segments:\n     * 'Short Trips': Distance < 2 miles\n     * 'Long Trips': Distance > 10 miles\n   - Goal: Compare average burden between segments\n\n4. Destination Diversity (Entropy):\n   - Metric: Shannon Entropy of the destination distribution (DOLocationID probabilities)\n   - Scope: Calculated per Pickup Zone (PULocationID)\n   - Goal: Identify Zone with highest Entropy value\n\n5. Fleet Imbalance (Deadheading Risk):\n   - Metric: 'Imbalance Ratio' = (Dropoffs - Pickups) / (Dropoffs + Pickups)\n   - Significance Threshold: Total Operations (Dropoffs + Pickups) > 50\n   - Goal: Identify 'Sink Zone' with highest Imbalance Ratio",
    "conversations": [
      {
        "id": "nyc_tlc_analysis_2025",
        "turns": [
          {
              "query": "I need to identify the worst traffic bottlenecks in the city. Please analyze the trip data to find the specific Pickup Zone that suffers from the slowest average traffic flow speeds.",
              "validator": "validate_q1",
              "expected_function_calls": [],
              "expected_variable_reads": [],
              "expected_variable_writes": []
          },
          {
              "query": "Analyze the spatial tidal movements during the morning commute. Identify the primary 'Commuter Source' zone, defined as the area with the strongest net outflow of passengers during the rush hours.",
              "validator": "validate_q2",
              "expected_function_calls": [],
              "expected_variable_reads": [],
              "expected_variable_writes": []
          },
          {
              "query": "Evaluate the economic fairness of the fixed Congestion Surcharge. Determine if this fee creates a heavier relative financial burden on 'Short Trips' compared to 'Long Trips'.",
              "validator": "validate_q3",
              "expected_function_calls": [],
              "expected_variable_reads": [],
              "expected_variable_writes": []
          },
          {
              "query": "Assess the complexity of the transport network. Calculate the connectivity entropy for each zone to find the location that serves as a hub to the most diverse set of destinations.",
              "validator": "validate_q4",
              "expected_function_calls": [],
              "expected_variable_reads": [],
              "expected_variable_writes": []
          },
          {
              "query": "Identify operational inefficiencies regarding vehicle repositioning. Find the 'Sink Zone' that has the highest risk of requiring empty return trips (deadheading) due to a massive surplus of drop-offs vs. pickups.",
              "validator": "validate_q5",
              "expected_function_calls": [],
              "expected_variable_reads": [],
              "expected_variable_writes": []
          }
        ]
      }
    ]
  }
]